<?xml version="1.0" encoding="UTF-8" ?>
<?import java.lang.String?>
<?import javafx.scene.canvas.Canvas?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.ToolBar?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.Pane?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.control.Separator?>
<BorderPane
    stylesheets="@../styles/application.css"
    xmlns="http://javafx.com/javafx/21"
    xmlns:fx="http://javafx.com/fxml/1"
    fx:controller="com.logisim.ui.controllers.MainViewController"
>

    <!-- Left sidebar -->
    <left>
        <VBox fx:id="sidebar" styleClass="sidebar">
            <Label text="COMPONENTS" styleClass="header-label" />

            <Button
                text="AND"
                fx:id="btnAnd"
                maxWidth="Infinity"
                styleClass="button"
            />
            <Button
                text="OR"
                fx:id="btnOr"
                maxWidth="Infinity"
                styleClass="button"
            />
            <Button
                text="NOT"
                fx:id="btnNot"
                maxWidth="Infinity"
                styleClass="button"
            />
            <Button
                text="SWITCH"
                fx:id="btnSwitch"
                maxWidth="Infinity"
                styleClass="button"
            />
            <Button
                text="BULB"
                fx:id="btnBulb"
                maxWidth="Infinity"
                styleClass="button"
            />
             <Separator />
             <Label text="MY CIRCUITS" styleClass="header-label" />

                     <ScrollPane
                fitToWidth="true"
                style="-fx-background-color: transparent;"
            >
                         <content>
                             <VBox
                        fx:id="subCircuitContainer"
                        spacing="5"
                        style="-fx-background-color: transparent;"
                    />
                         </content>
                     </ScrollPane>
        </VBox>
    </left>

    <!-- Center canvas -->
    <center>
        <ScrollPane
            fx:id="canvasScrollPane"
            pannable="true"
            prefWidth="800"
            prefHeight="600"
            hbarPolicy="NEVER"
            vbarPolicy="NEVER"
            style="-fx-background-color: transparent; -fx-background: #1e1e1e;"
        >
            <content>
                <StackPane
                    alignment="TOP_LEFT"
                    prefWidth="4000"
                    prefHeight="4000"
                    style="-fx-background-color: #1e1e1e;"
                >
                    <children>
                        <Canvas fx:id="gridCanvas" width="4000" height="4000" />

                        <Pane
                            fx:id="canvasPane"
                            prefWidth="4000"
                            prefHeight="4000"
                        />
                    </children>
                </StackPane>
            </content>
        </ScrollPane>
    </center>

    <top>
        <ToolBar styleClass="tool-bar">

        <Button text="â† Back" onAction="#handleBackToDashboard">
                     <styleClass>
                         <String fx:value="button" />
                         <String fx:value="button-secondary" />
                     </styleClass>
                 </Button>

        <Separator orientation="VERTICAL" />

        <Button text="Save" onAction="#handleSave">
                        <styleClass>
                            <String fx:value="button" />
                            <String fx:value="button-primary" />
                        </styleClass>
                    </Button>


            <Button text="Run Simulation" onAction="#handleRun">
                <styleClass>
                    <String fx:value="button" />
                    <String fx:value="button-success" />
                </styleClass>
            </Button>

            <Button text="Analyze" onAction="#handleAnalyze">
                <styleClass>
                    <String fx:value="button" />
                    <String fx:value="button-secondary" />
                </styleClass>
            </Button>
        </ToolBar>
    </top>

</BorderPane>
